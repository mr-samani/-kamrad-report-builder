<h2 mat-dialog-title>Plugins</h2>
<mat-dialog-content>
  <div class="search-bar">
    <input
      type="text"
      name="search"
      [(ngModel)]="search"
      (keydown.enter)="filterList()"
      placeholder="Search ..."
    />
    <button type="button" (click)="filterList()">
      <svg Icon="assets/icons/search.svg"></svg>
    </button>
  </div>

  <div class="list-container">
    @for (item of plugins; track $index) {
      <div class="plugin-box" (click)="ok(item)" [title]="item.name">
        <div class="screenshot-container">
          @if (item.image) {
            <img [src]="item.image" [alt]="item.name" class="screenshot" />
          } @else {
            <img src="assets/default-image.png" alt="no-image" class="screenshot" />
          }
        </div>
        <div class="name">{{ item.name }}</div>
      </div>
    }

    @if (plugins.length == 0 && !loading) {
      <p>Not exist any plugins!</p>
    }
  </div>
  @if (loading) {
    <div class="loading-container">
      <loading [loading]="loading"></loading>
    </div>
  }

  <div class="pagination-container">
    <span>Page {{ selectedPage + 1 | number }} from {{ total | number }}</span>
    <ul class="pagination">
      @for (p of pagination; track $index) {
        <li (click)="changePage(p)" [class.active]="p == selectedPage">
          {{ p + 1 }}
        </li>
      }
    </ul>
  </div>
</mat-dialog-content>
