<div class="editor-wrapper">
  <div class="toolbar">
    <div class="group">
      <button
        type="button"
        class="btn"
        (click)="execCommand('bold')"
        [class.active]="isCommandActive('bold')"
        title="Bold"
      >
        B
      </button>
      <button
        type="button"
        class="btn"
        (click)="execCommand('italic')"
        [class.active]="isCommandActive('italic')"
        title="Italic"
      >
        I
      </button>
    </div>

    <div class="group">
      <label class="label">Text</label>
      <input
        type="color"
        (change)="applyStyle({ color: $any($event).target.value })"
        [value]="textColor"
      />
      <label class="label">Background</label>
      <input
        type="color"
        (change)="applyStyle({ backgroundColor: $any($event).target.value })"
        [value]="bgColor"
      />
    </div>

    <div class="group">
      <select (change)="setFontFamily($any($event).target.value)" [value]="fontFamily">
        <option *ngFor="let f of fontFamilies" [value]="f">{{ f }}</option>
      </select>

      <select (change)="setFontSize($any($event).target.value)" [value]="fontSize">
        <option *ngFor="let s of fontSizes" [value]="s">{{ s }}px</option>
      </select>
    </div>

    <div class="group">
      <button type="button" class="btn" (click)="setAlign('left')" title="Align left">L</button>
      <button type="button" class="btn" (click)="setAlign('center')" title="Center">C</button>
      <button type="button" class="btn" (click)="setAlign('right')" title="Right">R</button>
    </div>

    <div class="grow"></div>

    <div class="group">
      <button type="button" class="btn" (click)="clearFormatting()">Reset</button>
    </div>
  </div>

  <div
    #editable
    class="editable"
    contenteditable="true"
    (keyup)="onKeyUp()"
    spellcheck="true"
    ngxDynamicAutocomplete
    [dynamicData]="dynamicDataService.dynamicData"
    (inserted)="onInsert($event)"
  ></div>
</div>

<div class="footer">
  selected char count:{{ selectedCharCount }}
  <button type="button" class="btn" (click)="ok()">Ok</button>
  <button type="button" class="btn" mat-dialog-close>Cancel</button>
</div>
