<div class="page-builder-container ngx-page-builder">
  <toolbar></toolbar>
  <div
    class="components"
    id="blockSourceList"
    ngxDropList
    [data]="pageBuilder.sources"
    [disableSort]="true"
  >
    @for (item of pageBuilder.sources; track $index) {
      <div class="tool" ngxDraggable [title]="item.title" (click)="preventDefault()">
        <svg [Icon]="item.icon"></svg>
      </div>
    }
  </div>
  <div
    class="page-container full-height"
    (click)="pageBuilder.deSelectBlock()"
    (scroll)="blockSelector.updatePosition()"
  >
    <div
      [hidden]="pageBuilder.currentPageIndex() < 0"
      class="paper {{ pageBuilder.pageInfo.config.size }} {{
        pageBuilder.pageInfo.config.orientation
      }}"
    >
      <div
        class="page-header"
        #PageHeader
        [class.show-outlines]="pageBuilder.showOutlines"
        ngxDropList
        [data]="pageBuilder.currentPage.headerItems"
        [class.is-empty]="pageBuilder.currentPage.headerItems.length == 0"
        (drop)="pageBuilder.onDrop($event)"
      ></div>

      <div
        class="page-body"
        #PageBody
        [class.show-outlines]="pageBuilder.showOutlines"
        ngxDropList
        [data]="pageBuilder.currentPage.bodyItems"
        (drop)="pageBuilder.onDrop($event)"
      ></div>
      <div
        class="page-footer"
        #PageFooter
        [class.show-outlines]="pageBuilder.showOutlines"
        ngxDropList
        [class.is-empty]="pageBuilder.currentPage.footerItems.length == 0"
        [data]="pageBuilder.currentPage.footerItems"
        (drop)="pageBuilder.onDrop($event)"
      ></div>
    </div>
    <block-selector #blockSelector />
  </div>

  <side-config class="side-config"></side-config>
</div>
