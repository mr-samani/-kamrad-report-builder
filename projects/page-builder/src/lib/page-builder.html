<div class="page-builder-container">
  <toolbar></toolbar>
  <div
    class="components"
    ngxDropList
    [data]="sources"
    [connectedTo]="[PageContainer]"
    [disableSort]="true"
  >
    @for (item of sources; track $index) {
    <div
      class="tool"
      ngxDraggable
      [innerHTML]="item.icon | safeHtml"
      [title]="item.title"
      (click)="preventDefault()"
    ></div>
    }
  </div>
  <div class="page-container" (click)="pageBuilderService.deSelectBlock()">
    {{ pageBuilderService.currentPageIndex() }}
    <div
      class="paper {{ pageBuilderService.pageInfo.config.size }} {{
        pageBuilderService.pageInfo.config.orientation
      }}"
    >
      <div class="paper-inner">
        <table cellspacing="0" cellpadding="0" class="ngx-page-builder">
          <thead>
            <tr>
              <th class="pb-3">
                <page-header></page-header>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <!-- ---------------- body ---------------------- -->
                <div
                  class="page-body"
                  #PageContainer
                  [class.show-outlines]="pageBuilderService.showOutlines"
                  ngxDropList
                  [data]="pageBuilderService.currentPageItems"
                  (drop)="onDrop($event)"
                >
                  <div class="placeholder" *ngxPlaceholder></div>
                </div>
              </td>
            </tr>
          </tbody>
          <tfoot>
            <tr>
              <td>
                <page-footer></page-footer>
              </td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
  </div>

  <block-properties class="properties"></block-properties>
</div>
<block-selector />
